<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title th:text="${title}">Groupe de Services - CHU El Jadida</title>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   <link rel="stylesheet" th:href="@{/css/style.css}">
   <link rel="stylesheet" th:href="@{/css/services.css}">
</head>
<body>
   <div th:replace="~{layout/main :: body(content=~{::content})}">
       <div th:fragment="content">
           <div class="services-container">
               <!-- Header section -->
               <div class="services-header">
                   <h1>
                       <i class="fas fa-sitemap"></i>
                       <span>Groupe de Services</span>
                   </h1>
                   <a th:href="@{/services}" class="btn-new">
                       <i class="fas fa-arrow-left"></i> Retour à la liste
                   </a>
               </div>
               
               <!-- Group details -->
               <div class="service-group">
                   <div class="service-group-header">
                       <h3 th:text="${groupeServices.nom}">Tous les services</h3>
                       <p class="text-muted mb-0" th:text="${groupeServices.description}">Groupe contenant tous les services du CHU</p>
                   </div>
                   
                   <div class="service-group-body">
                       <ul class="service-tree">
                           <li th:each="serviceComponent : ${groupeServices.services}">
                               <div class="service-tree-item">
                                   <span class="service-name" th:text="${serviceComponent.nom}">Cardiologie</span>
                                   <span class="service-info" th:text="'Personnel: ' + ${serviceComponent.nombrePersonnel}">Personnel: 10</span>
                                   <a th:href="@{/services/view/{id}(id=${serviceComponent.service.id})}" class="btn btn-sm btn-outline-primary">
                                       <i class="fas fa-eye"></i>
                                   </a>
                               </div>
                           </li>
                       </ul>
                   </div>
                   
                   <div class="service-group-footer">
                       <div class="service-group-stats">
                           <strong>Total des services:</strong> <span th:text="${groupeServices.services.size()}">4</span>
                           <span class="ms-4"><strong>Total du personnel:</strong> <span th:text="${groupeServices.nombrePersonnel}">40</span></span>
                       </div>
                       <a th:href="@{/services/new}" class="btn btn-sm btn-warning">
                           <i class="fas fa-plus-circle me-2"></i>Ajouter un service
                       </a>
                   </div>
               </div>
               
               <!-- Create groups manually example -->
               <div class="alert alert-info mt-4">
                   <h4 class="alert-heading"><i class="fas fa-info-circle me-2"></i>Gestion avancée des groupes</h4>
                   <p>Le système prend en charge la création et la gestion de groupes de services hiérarchiques. Cette fonctionnalité vous permet d'organiser vos services selon différentes structures organisationnelles.</p>
                   <hr>
                   <p class="mb-0">Pour plus d'information sur la création de groupes personnalisés, contactez l'administrateur du système.</p>
               </div>
           </div>
       </div>
   </div>

   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   <script th:src="@{/js/script.js}"></script>
</body>
</html>

